"""Rerun a robot with given body and parameters."""

import logging
import pickle

from evaluator import Evaluator
from individual import Individual
from revolve2.ci_group.logging import setup_logging

# This is a pickled genotype we optimized.
# You can copy your own parameters from the optimization output log.
PICKLED_GENOTYPE = b'\x80\x04\x95\x02\x1f\x00\x00\x00\x00\x00\x00\x8c\nindividual\x94\x8c\nIndividual\x94\x93\x94)\x81\x94}\x94(\x8c\x08genotype\x94h\x05\x8c\x08Genotype\x94\x93\x94)\x81\x94}\x94(\x8c\x05brain\x94\x8cMrevolve2.experimentation.genotypes.cppnwin._multineat_genotype_pickle_wrapper\x94\x8c\x1eMultineatGenotypePickleWrapper\x94\x93\x94)\x81\x94X\xf5\x08\x00\x00{\n"value0":{\n"value0":0,\n"value1":[\n{\n"value0":{\n"value0":[]\n},\n"value1":1,\n"value2":1,\n"value3":0.0,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":1,\n"value10":0.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":2,\n"value2":1,\n"value3":0.0,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":1,\n"value10":0.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":3,\n"value2":1,\n"value3":0.0,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":1,\n"value10":0.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":4,\n"value2":1,\n"value3":0.0,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":1,\n"value10":0.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":5,\n"value2":1,\n"value3":0.0,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":1,\n"value10":0.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":6,\n"value2":1,\n"value3":0.0,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":1,\n"value10":0.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":7,\n"value2":2,\n"value3":0.0,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":1,\n"value10":0.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":8,\n"value2":4,\n"value3":3.025,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":9,\n"value10":1.0\n}\n],\n"value2":[\n{\n"value0":{\n"value0":[]\n},\n"value1":1,\n"value2":8,\n"value3":1,\n"value4":false,\n"value5":0.5608436586124286\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":2,\n"value2":8,\n"value3":2,\n"value4":false,\n"value5":0.018447207971316494\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":3,\n"value2":8,\n"value3":3,\n"value4":false,\n"value5":-0.0710652833524039\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":4,\n"value2":8,\n"value3":4,\n"value4":false,\n"value5":0.26176341703795349\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":5,\n"value2":8,\n"value3":5,\n"value4":false,\n"value5":-0.03333753711214245\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":6,\n"value2":8,\n"value3":6,\n"value4":false,\n"value5":-0.15940035165814865\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":7,\n"value2":8,\n"value3":7,\n"value4":false,\n"value5":-0.5775464167621855\n}\n],\n"value3":7,\n"value4":1,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0.0,\n"value9":false,\n"value10":16384,\n"value11":{\n"value0":[]\n},\n"value12":8,\n"value13":7\n}\n}\x94b\x8c\x04body\x94h\r)\x81\x94X\x1b\x15\x00\x00{\n"value0":{\n"value0":0,\n"value1":[\n{\n"value0":{\n"value0":[]\n},\n"value1":1,\n"value2":1,\n"value3":0.0,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":1,\n"value10":0.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":2,\n"value2":1,\n"value3":0.0,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":1,\n"value10":0.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":3,\n"value2":1,\n"value3":0.0,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":1,\n"value10":0.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":4,\n"value2":1,\n"value3":0.0,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":1,\n"value10":0.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":5,\n"value2":2,\n"value3":0.0,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":1,\n"value10":0.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":6,\n"value2":4,\n"value3":3.025,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":2,\n"value10":1.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":7,\n"value2":4,\n"value3":3.025,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":2,\n"value10":1.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":8,\n"value2":4,\n"value3":3.025,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":2,\n"value10":1.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":9,\n"value2":4,\n"value3":3.025,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":2,\n"value10":1.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":10,\n"value2":4,\n"value3":3.025,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":2,\n"value10":1.0\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":11,\n"value2":4,\n"value3":3.025,\n"value4":0.0,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0,\n"value9":2,\n"value10":1.0\n}\n],\n"value2":[\n{\n"value0":{\n"value0":[]\n},\n"value1":1,\n"value2":6,\n"value3":1,\n"value4":false,\n"value5":-0.7424592700735124\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":2,\n"value2":6,\n"value3":2,\n"value4":false,\n"value5":0.3886616226481335\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":3,\n"value2":6,\n"value3":3,\n"value4":false,\n"value5":0.7082834823687447\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":4,\n"value2":6,\n"value3":4,\n"value4":false,\n"value5":-0.5889392790935952\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":5,\n"value2":6,\n"value3":5,\n"value4":false,\n"value5":-0.35107837841222969\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":1,\n"value2":7,\n"value3":6,\n"value4":false,\n"value5":0.2587585245351277\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":2,\n"value2":7,\n"value3":7,\n"value4":false,\n"value5":0.14159755094390895\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":3,\n"value2":7,\n"value3":8,\n"value4":false,\n"value5":0.01930199350668268\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":4,\n"value2":7,\n"value3":9,\n"value4":false,\n"value5":-0.41979248964897489\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":5,\n"value2":7,\n"value3":10,\n"value4":false,\n"value5":-0.4035957241557454\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":1,\n"value2":8,\n"value3":11,\n"value4":false,\n"value5":-0.19354770981229128\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":2,\n"value2":8,\n"value3":12,\n"value4":false,\n"value5":-0.18715508372863499\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":3,\n"value2":8,\n"value3":13,\n"value4":false,\n"value5":-0.04394882825718738\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":4,\n"value2":8,\n"value3":14,\n"value4":false,\n"value5":0.06392842081094012\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":5,\n"value2":8,\n"value3":15,\n"value4":false,\n"value5":-0.2805300514108793\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":1,\n"value2":9,\n"value3":16,\n"value4":false,\n"value5":-0.013072346362705292\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":2,\n"value2":9,\n"value3":17,\n"value4":false,\n"value5":0.8966058811300417\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":3,\n"value2":9,\n"value3":18,\n"value4":false,\n"value5":-0.1680805041936045\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":4,\n"value2":9,\n"value3":19,\n"value4":false,\n"value5":0.08343134806997688\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":5,\n"value2":9,\n"value3":20,\n"value4":false,\n"value5":-0.45755281411846029\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":1,\n"value2":10,\n"value3":21,\n"value4":false,\n"value5":-0.10590078532588285\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":2,\n"value2":10,\n"value3":22,\n"value4":false,\n"value5":-0.03687051839249357\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":3,\n"value2":10,\n"value3":23,\n"value4":false,\n"value5":0.6802273283819261\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":4,\n"value2":10,\n"value3":24,\n"value4":false,\n"value5":-1.0232365596047282\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":5,\n"value2":10,\n"value3":25,\n"value4":false,\n"value5":-1.4192134698613368\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":1,\n"value2":11,\n"value3":26,\n"value4":false,\n"value5":-0.43356497920131195\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":2,\n"value2":11,\n"value3":27,\n"value4":false,\n"value5":0.17456226383338686\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":3,\n"value2":11,\n"value3":28,\n"value4":false,\n"value5":-0.037276570967761647\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":4,\n"value2":11,\n"value3":29,\n"value4":false,\n"value5":-0.13375639415080374\n},\n{\n"value0":{\n"value0":[]\n},\n"value1":5,\n"value2":11,\n"value3":30,\n"value4":false,\n"value5":-0.985067932380492\n}\n],\n"value3":5,\n"value4":6,\n"value5":0.0,\n"value6":0.0,\n"value7":0,\n"value8":0.0,\n"value9":false,\n"value10":16384,\n"value11":{\n"value0":[]\n},\n"value12":11,\n"value13":30\n}\n}\x94bub\x8c\x07fitness\x94G?\xf3aT<Y\xb9\x95ub.'


def main() -> None:
    """Perform the rerun."""
    setup_logging()

    individual: Individual = pickle.loads(PICKLED_GENOTYPE)
    robot = individual.genotype.develop()

    logging.info(f"Fitness from pickle: {individual.fitness}")

    evaluator = Evaluator(
        headless=False,
        num_simulators=1,
    )
    fitness = evaluator.evaluate([robot])[0]
    logging.info(f"Rerun fitness: {fitness}")


if __name__ == "__main__":
    main()
